<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Get Current Position</title>
<script>
    function showPosition() {
        if(navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var positionInfo = "Your current position is (" + "Latitude: " + position.coords.latitude + ", " + "Longitude: " + position.coords.longitude + ")";
                document.getElementById("result").innerHTML = positionInfo;
            });
        } else {
            alert("Sorry, your browser does not support HTML5 geolocation.");
        }
    }

    async function miMetodoAsincrono() {
    // Simula una operación asíncrona, por ejemplo, una solicitud AJAX
    return new Promise(resolve => {
            setTimeout(() => {
                console.log("Método ejecutado de forma asíncrona");
                showPosition();
                resolve();
            }, 3000); // Simula una operación que toma 1 segundo
        });
    }

    // Función para llamar a la función asíncrona cada 30 segundos
    function ejecutarCada30Segundos() {
        setInterval(async () => {
            await miMetodoAsincrono();
        }, 10000); // 30 segundos en milisegundos
    }

    // Llama a la función para iniciar el intervalo
    ejecutarCada30Segundos();
</script>
</head>
<body>
    <p>Main Result</p>
    <div id="result">
        <!--Position information will be inserted here-->
    </div>
</body>
</html>